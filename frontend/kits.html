<!DOCTYPE html>
<html lang="pt-BR" data-bs-theme="dark">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pescarias - Kits de Pesca</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <script>
    fetch('menu.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('menu').innerHTML = data;
        initMenuAuth();
      });

    function initMenuAuth() {
      const authArea = document.getElementById('auth-area');
      if (!authArea) return;
      authArea.innerHTML = '';
      const token = localStorage.getItem('token');
      if (token) {
        authArea.insertAdjacentHTML('beforeend', `
          <li class="nav-item">
            <a class="nav-link" href="perfil.html">Minha Conta</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" id="logout-link">Sair</a>
          </li>
        `);
        document.getElementById('logout-link')?.addEventListener('click', (e) => { e.preventDefault(); localStorage.removeItem('token'); location.reload(); });
      } else {
        authArea.insertAdjacentHTML('beforeend', `
          <li class="nav-item">
            <a class="nav-link" href="login.html">Entrar</a>
          </li>
        `);
      }
    }
  </script>
  <nav id="menu" class="navbar navbar-expand-lg bg-body-tertiary fixed-top"></nav>

  <section class="py-5">
    <h1 class="fw-normal lh-1">Kits de Pesca</h2>
      <p>Monte sua pescaria completa com nossos kits prontos para uso!</p>
  </section>

  <hr class="filter-divider">
  <section class="row">
    <div class="col-lg-3 col-md-4 col-sm-5">
      <h4>Filtros</h4>
      <form>
        <fieldset>
          <legend>Tipo de Kit</legend>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="grub" id="grub" name="tipo">
            <label class="form-check-label" for="grub">
              Kit Completo
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="rattles" name="tipo" id="rattles">
            <label class="form-check-label" for="rattles">
              Kit para Iniciantes
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="shad" name="tipo" value="shad">
            <label class="form-check-label" for="shad">
              Kit Profissional
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="tuvira" name="tipo" value="tuvira">
            <label class="form-check-label" for="tuvira">
              Kit Infantil
            </label>
          </div>
        </fieldset>
        <fieldset>
          <legend>Inclui</legend>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="vara-molinete" name="inclui" value="vara-molinete">
            <label class="form-check-label" for="vara-molinete">
              Vara e Molinete
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="anzol" name="inclui" value="anzol">
            <label class="form-check-label" for="anzol">
              Anzóis
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="isca" name="inclui" value="isca">
            <label class="form-check-label" for="isca">
              Iscas
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="caixa-organizatoria" name="inclui"
              value="caixa-organizatoria">
            <label class="form-check-label" for="caixa-organizatoria">
              Caixa Organizadora
            </label>
          </div>
        </fieldset>
        <fieldset>
          <legend>Faixa de Preço</legend>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="monster3x" name="preco" value="monster3x">
            <label class="form-check-label" for="monster3x">Até R$100</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="albatroz" name="preco" value="albatroz">
            <label class="form-check-label" for="albatroz">R$101 - R$200</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="bigones" name="preco" value="bigones">
            <label class="form-check-label" for="bigones">R$201 - R$400</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="blackpearl" name="preco" value="blackpearl">
            <label class="form-check-label" for="blackpearl">Acima de R$400</label>
          </div>
        </fieldset>
        <fieldset>
          <legend>Marcas</legend>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="albatroz" name="marca" value="albatroz">
            <label class="form-check-label" for="albatroz">Albatroz</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="marine" name="marca" value="marine">
            <label class="form-check-label" for="marine">Marine Sports</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="saint" name="marca" value="saint">
            <label class="form-check-label" for="saint">Saint Plus</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="okuma" name="marca" value="okuma">
            <label class="form-check-label" for="okuma">Okuma</label>
          </div>
        </fieldset>
      </form>
    </div>
    <div class="col-lg-9 col-md-8 col-sm-7">
      <div class="row">
        <div class="col-lg-4 col-md-6 col-sm-12">
          <div class="card h-100 product-card" data-tipo="grub" data-inclui="vara-molinete" data-marca="albatroz" data-preco="201-400">
            <img src="imagens/kit1.jpg" alt="Kit de Pesca Completo Albatroz" class="card-img-top">
            <div class="card-body">
              <h5 class="card-title">Kit de Pesca Completo Albatroz</h5>
              <p>Vara + Molinete + Acessórios</p>
              <p><b>R$ 249,90</b></p>
              <a href="checkout.html?product=kit-albatroz" class="btn btn-primary">Comprar</a>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12">
          <div class="card h-100 product-card" data-tipo="rattles" data-inclui="vara-molinete" data-marca="marine" data-preco="101-200">
            <img src="imagens/kit2.jpg" alt="Kit Iniciante Marine Sports" class="card-img-top">
            <div class="card-body">
              <h5 class="card-title">Kit Iniciante Marine Sports</h5>
              <p>Ideal para pesca em rio e lago</p>
              <p><b>R$ 189,90</b></p>
              <a href="checkout.html?product=kit-marine" class="btn btn-primary">Comprar</a>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12">
          <div class="card h-100 product-card" data-tipo="tuvira" data-inclui="isca" data-marca="saint" data-preco="até-100">
            <img src="imagens/kit3.jpg" alt="Kit Infantil com Vara Telescópica" class="card-img-top">
            <div class="card-body">
              <h5 class="card-title">Kit Infantil com Vara Telescópica</h5>
              <p>Colorido e leve para crianças</p>
              <p><b>R$ 119,90</b></p>
              <a href="checkout.html?product=kit-infantil" class="btn btn-primary">Comprar</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>
    </div>
  <script>
    (function() {
      const form = document.querySelector('form');
      if (!form) return;
      const checkboxes = form.querySelectorAll('input[type=checkbox]');
      const products = document.querySelectorAll('.product-card');

      function applyFilters() {
        const selected = {};
        checkboxes.forEach(cb => {
          if (cb.checked) {
            selected[cb.name] = selected[cb.name] || [];
            selected[cb.name].push(cb.value);
          }
        });

        products.forEach(p => {
          let visible = true;
          Object.keys(selected).forEach(group => {
            const vals = selected[group];
            const attr = p.dataset[group];
            if (!attr || !vals.includes(attr)) visible = false;
          });
          p.style.display = visible ? '' : 'none';
        });
      }

      checkboxes.forEach(cb => cb.addEventListener('change', applyFilters));
    })();
  </script>
  </section>

  <footer>
    <hr>
    <p><strong>Pescarias © 2025</strong></p>
    <p>Criado pelos alunos do IFSP - Matéria DEVWEB1</p>
  </footer>
</body>

</html>